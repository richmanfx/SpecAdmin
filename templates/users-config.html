{{ template "header.html" .}}

{{ template "create-user-modal.html" . }}
{{ template "delete-user-modal.html" . }}
{{ template "edit-user-modal.html" . }}
{{ template "change-password-modal.html" . }}

<span class="title">Пользователи</span>

<p>
    <div class="users-config-button">
        <a type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#createUser" href="#">
            Создать нового пользователя
        </a>

    <!--<a class="navbar-brand" data-toggle="modal" data-target="#addGroup" href="#"> Добавить группу </a>-->

    </div>
<p>
    <table class="users-table table table-bordered">
        <thead>
        <tr>
            <th class="center-align">Логин</th>
            <th class="center-align">Полное имя</th>
            <th class="center-align">Создание</th>
            <th class="center-align">Редактирование</th>
            <th class="center-align">Удаление</th>
            <th class="center-align">Конфигурирование</th>
            <th class="center-align">Работа с пользователями</th>
            <th class="center-align">Действия</th>

        </tr>
        </thead>
        <tbody>
            {{ range .users }}
            <tr>
                <td>{{ .Login }}</td>

                <td>{{ .FullName }}</td>

                <td class="center-align">
                    {{ if .Permissions.Create }}
                        <img src="/images/icons/true.png" width="30" height="30"/>
                    {{ else }}
                        <img src="/images/icons/false.png" width="30" height="30"/>
                    {{ end }}
                </td>

                <td class="center-align">
                    {{ if .Permissions.Edit }}
                    <img src="/images/icons/true.png" width="30" height="30"/>
                    {{ else }}
                    <img src="/images/icons/false.png" width="30" height="30"/>
                    {{ end }}
                </td>

                <td class="center-align">
                    {{ if .Permissions.Delete }}
                    <img src="/images/icons/true.png" width="30" height="30"/>
                    {{ else }}
                    <img src="/images/icons/false.png" width="30" height="30"/>
                    {{ end }}
                </td>

                <td class="center-align">
                    {{ if .Permissions.Config }}
                    <img src="/images/icons/true.png" width="30" height="30"/>
                    {{ else }}
                    <img src="/images/icons/false.png" width="30" height="30"/>
                    {{ end }}
                </td>

                <td class="center-align">
                    {{ if .Permissions.Users }}
                    <img src="/images/icons/true.png" width="30" height="30"/>
                    {{ else }}
                    <img src="/images/icons/false.png" width="30" height="30"/>
                    {{ end }}
                </td>

                <td class="steps-screen-shot">
                    <a data-toggle="modal" data-target="#editUser" href="#" title="Редактировать пользователя"
                       data-login="{{ .Login }}" data-name="{{ .FullName }}"
                       data-perm-create="{{ .Permissions.Create }}"
                       data-perm-edit="{{ .Permissions.Edit }}"
                       data-perm-delete="{{ .Permissions.Delete }}"
                       data-perm-config="{{ .Permissions.Config }}"
                       data-perm-users="{{ .Permissions.Users }}"
                    >
                        <img src="/images/icons/edit.png" alt="Rename" width="30" height="30"/>
                    </a>
                    <a data-toggle="modal" data-target="#deleteUser" href="#" title="Удалить пользователя"
                       data-login="{{ .Login }}" data-name="{{ .FullName }}">
                        <img src="/images/icons/delete.png" alt="Delete" width="30" height="30"/>
                    </a>
                    <a data-toggle="modal" data-target="#changePassword" href="#" title="Новый пароль"
                       data-login="{{ .Login }}">
                        <img src="/images/icons/password.png" alt="Delete" width="30" height="30"/>
                    </a>

                </td>
            </tr>
            {{end }}
        </tbody>
    </table>

<script async src="/js/apps-user-work.js"></script>

<!-- Шаблон футера -->
{{ template "footer.html" .}}
